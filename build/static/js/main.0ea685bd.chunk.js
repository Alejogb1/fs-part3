(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t.n(c),a=t(14),o=t.n(a),i=(t(19),t(4)),s=t(0),u=function(e){var n=e.addNote,t=e.newName,c=e.newNumber,r=e.handleChangeName,a=e.handleChangeNumber;return Object(s.jsxs)("form",{onSubmit:n,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{onChange:r,value:t})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{onChange:a,type:"number",value:c})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},l=function(e){var n=e.persons,t=e.deletePerson;return console.log(n),n.map((function(e){return Object(s.jsxs)("li",{children:[e.name," - ",e.number,Object(s.jsx)("button",{onClick:function(){return n=e.id,void t(n);var n},children:"Delete"})]},e.id)}))},d=function(e){var n=e.addFilter,t=e.handleChangeFilter;return Object(s.jsxs)("form",{onSubmit:n,children:[Object(s.jsxs)("h3",{children:["Let's filter by name: ",Object(s.jsx)("input",{onChange:t})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"Filter"})})]})},b=t(3),j=t.n(b),h="http://localhost:3001/api/persons",f=function(){return j.a.get("http://localhost:3001/api/persons")},m=function(e){return j.a.post(h,e)},p=function(e){return j.a.put(h,e)},O=(t(39),function(e){var n=e.notification;return""===n.message?null:Object(s.jsx)("div",{className:n.type?"success-message":"error-message",children:n.message})}),g=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(""),o=Object(i.a)(a,2),b=o[0],h=o[1],g=Object(c.useState)(0),v=Object(i.a)(g,2),x=v[0],y=v[1],C=Object(c.useState)(""),N=Object(i.a)(C,2),w=N[0],F=N[1],S=Object(c.useState)({message:"",type:!0}),k=Object(i.a)(S,2),D=k[0],P=k[1];Object(c.useEffect)((function(){f().then((function(e){return r(e.data)}))}),[]),console.log("Persons array: ",t);return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(O,{notification:D}),Object(s.jsx)(u,{addNote:function(e){e.preventDefault();var n={name:b,number:x};m(n),r(t.filter((function(e){return e.name!==b})).concat(n)),P({message:"Added ".concat(n.name),type:!0}),t.forEach((function(e){e.name===n.name&&window.confirm("".concat(b," is already added to phonebook, replace the old number with the new one?"))&&p(n)})),h("")},newName:b,newNumber:x,handleChangeName:function(e){return h(e.target.value)},handleChangeNumber:function(e){return y(e.target.value)}}),Object(s.jsx)(d,{addFilter:function(e){e.preventDefault(),r(t.filter((function(e){return e.name===w})))},handleChangeFilter:function(e){return F(e.target.value)}}),Object(s.jsx)("h2",{children:"Names"}),Object(s.jsx)(l,{persons:t,deletePerson:function(e){var n=t.filter((function(n){return n.id===e})),c=n[0].name,a=n[0].id;window.confirm("Delete ".concat(c," ? "))&&(r(t.filter((function(e){return e.id!==a}))),j.a.delete("http://localhost:3001/persons/".concat(a)).catch((function(e){console.log(e),P({message:"Information of ".concat(c," has already been removed from server"),type:!1})})),P({message:"Deleted ".concat(c),type:!0}))}})]})},v=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root")),v()}},[[40,1,2]]]);
//# sourceMappingURL=main.0ea685bd.chunk.js.map